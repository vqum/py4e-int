<!-- ****************************************
     |docname| - main template for this theme
     **************************************** -->
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>20.7. Case Study: Structured Postal Addresses &#8212; Python for Everybody - Interactive</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css" />
    <link rel="stylesheet" type="text/css" href="../_static/accessibility.css?v=50109A2C" />
    <link rel="stylesheet" type="text/css" href="../_static/CodeChat.css" />
    <link rel="stylesheet" type="text/css" href="../_static/matrixeq.css?v=58BC228F" />
    <link rel="stylesheet" type="text/css" href="../_static/webgldemo.css?v=B36B48D" />
    <link rel="stylesheet" type="text/css" href="../_static/webglinteractive.css?v=910DF1E1" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/vendors-node_modules_bootstrap_dist_js_bootstrap_js-node_modules_jquery-ui_jquery-ui_js-node_-72cd89.cd688d1623c9932e.css?v=630908D8" />
    <link rel="stylesheet" type="text/css" href="../_static/runestone.bf73008a1eba9f4e.css?v=7DED055E" />



    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/animationbase.js?v=A043C3A7"></script>
    <script src="../_static/html4css1.css?v=4533ACD3"></script>
    <script src="../_static/matrixeq.js?v=D64CFA5A"></script>
    <script src="../_static/webglinteractive.js?v=2B768384"></script>
    <script src="../_static/FileSaver.min.js?v=8408C997"></script>
    <script src="../_static/runtime.439d581f758f2b99.bundle.js?v=2E54442"></script>
    <script src="../_static/vendors-node_modules_bootstrap_dist_js_bootstrap_js-node_modules_jquery-ui_jquery-ui_js-node_-72cd89.51d9dde4e5162190.bundle.js?v=9CAA2D33"></script>
    <script src="../_static/runestone.42b576791a4ed54b.bundle.js?v=B7293199"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="20.8. Unit Tests" href="UnitTests.html" />
    <link rel="prev" title="20.6. Association vs. Inheritance" href="AssociationVsInheritance.html" />


<link rel="shortcut icon" href="/runestone/static/favicon.ico" type="image/ico" />


<script>
  eBookConfig = {};
  
    
    eBookConfig.useRunestoneServices = {{use_services}};
    eBookConfig.host = '';
    eBookConfig.app = eBookConfig.host + '/runestone';
    eBookConfig.course = '{{ course_name }}';
    eBookConfig.basecourse = '{{ base_course }}';
    eBookConfig.isLoggedIn = {{ is_logged_in}};
    eBookConfig.email = '{{ user_email }}';
    eBookConfig.isInstructor = {{ is_instructor }};
    eBookConfig.username = '{{ user_id}}';
    eBookConfig.readings = {{ readings|safe}};
    eBookConfig.activities = {{ activity_info|safe }}
    eBookConfig.downloadsEnabled = {{downloads_enabled}};
    eBookConfig.allow_pairs = {{allow_pairs}}
    eBookConfig.enableCompareMe = {{enable_compare_me}};
    // _`new_server_prefix`: Defined by the server to be the path to the new server.
    eBookConfig.new_server_prefix = '{{ new_server_prefix }}';
    
  
  eBookConfig.ajaxURL = eBookConfig.app+'/ajax/';
  eBookConfig.logLevel = 10;
  eBookConfig.loginRequired = false;
  eBookConfig.build_info = "unknown";
  eBookConfig.python3 = true;
  eBookConfig.acDefaultLanguage = '' ? '' : 'python'
  eBookConfig.runestone_version = '';
  eBookConfig.jobehost = '';
  eBookConfig.proxyuri_runs = '';
  eBookConfig.proxyuri_files = '';
  eBookConfig.enable_chatcodes = false ? false : false;
  eBookConfig.enableScratchAC = true;

</script>

<!-- Ad Serving Headers Only serve ads to Anonymous Users -->

    
        {% if serve_ad is defined and serve_ad and settings.adsenseid %}
         <script data-ad-client="{{settings.adsenseid}}" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        {% endif %}
    



  </head><body>


<!-- Begin navbar -->
<div id="navbar" class="navbar navbar-default navbar-fixed-top" role="navigation">

  <div class="container">

    <div class="navbar-header">
      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
      <button type='button' class='navbar-toggle' data-toggle="collapse" data-target=".navbar-ex1-collapse" aria-label="navbar toggle">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div>
        
        
          <a class="brand-logo" href="/runestone/default/user/login" aria-label="Login"><img src="../_static/img/RAIcon.png" alt=""></a>
        
        <a class="navbar-brand" href="../index.html" aria-label="index-page">
          
            
            {{ course_name }}
            
          
        </a>
      </div>
    </div>



    <div class="navbar-collapse collapse navbar-ex1-collapse">
      <ul class="nav navbar-nav navbar-right" >

        <li class="divider-vertical"></li>
        <li><span id="browsing_warning"></span></li>

        <!-- social media dropdown -->
        
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-globe" style="opacity: 0.9"><span class="visuallyhidden" aria-label="Social">Social</span></i>
          </a>
          <ul class="dropdown-menu social-menu">
              <li>
                <div>
                  <b>Runestone in social media:</b>
                </div>
                <a href="https://twitter.com/iRunestone">Follow @iRunestone</a>
                <a href="https://www.facebook.com/RunestoneInteractive">Our Facebook Page</a>
              </li>

              <li class="divider"></li>
              <li>
                <div>
                  <b>Help support us:</b>
                </div>
                <div>
                    <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
                  <input type="hidden" name="cmd" value="_s-xclick">
                  <input type="hidden" name="encrypted" value="-----BEGIN PKCS7-----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-----END PKCS7-----
                  ">
                  <input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_SM.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
                  <img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
                  </form>

                </div>
              </li>
          </ul>
        </li><!-- end social media dropdown -->

        <li class="divider-vertical"></li>
        <!-- search dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-search" style='opacity:0.9;'><span class="visuallyhidden" aria-label="Search">Search</span></i>
          </a>
          <ul class='dropdown-menu'>
            
                <li><a href='../index.html' aria-label="index-page">Table of Contents</a></li>
            
            <li><a href='../genindex.html'>Book Index</a></li>
            <li class="divider"></li>
            <li style="width: 240px;">
              <form class="navbar-search" style="margin:10px;" action="../search.html" method="get">
                <div class="input-group">
                  <input type="text" class="form-control" name="q" placeholder="Search this book" />
                  <span class="input-group-btn">
                    <button class="btn btn-primary" style="margin:0;" type="submit">
                      <i class="glyphicon glyphicon-search"></i>
                    </button>
                  </span>
                </div><!-- /input-group -->
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
            </li>
          </ul>
        </li>
        <!-- end search dropdown -->

        <li class="divider-vertical"></li>

        
        <!-- user account dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-user" style="opacity:0.9;"><span class="visuallyhidden" aria-label="User">User</span></i>
          </a>
          <ul class="dropdown-menu user-menu">
            <li><span class='loggedinuser'></span></li>
            <li class="divider"></li>
            <li><a href='/runestone/assignments/chooseAssignment.html'>Assignments</a></li>
            <li><a href='/runestone/assignments/practice'>Practice</a></li>
            <li id="inst_peer_link"><a href='/runestone/peer/instructor.html'>Peer Instruction (Instructor)</a></li>            
            <li><a href='/runestone/peer/student.html'>Peer Instruction (Student)</a></li>            
            <li class="divider"></li>
            
            <li><a href='/runestone/default/courses'>Change Course</a></li>
			      <li class="divider"></li>
            <li id="ip_dropdown_link"><a href='/runestone/admin/index'>Instructor's Page</a></li>
            
            <li><a href='/runestone/dashboard/studentreport'>Progress Page</a></li>
            <li class="divider"></li>
            
            <li><a href="/runestone/default/user/profile" id="profilelink">Edit Profile</a></li>
            <li><a href="/runestone/default/user/change_password" id="passwordlink">Change Password</a></li>
            <li><a href="/runestone/default/user/register" id="registerlink">Register</a></li>
            
            <li class='loginout'><a href='#'>Login</a></li> <!-- correct link populated by addNavbarLoginLink() -->
			<!-- dark mode toggle -->
             <li><label class="theme-switch" for="checkbox">
					  <input type="checkbox" id="checkbox" onchange="runestoneComponents.switchTheme()" />
							<div class="slider round"></div>
					</label>Dark Mode</li>
			 </ul>
        </li>
        <!-- end user account dropdown -->
        
        <li class="divider-vertical"></li>
        <!-- <li id="scratch_ac_link"><a href="javascript:ACFactory.toggleScratchActivecode()">Scratch ActiveCode</a></li> -->

        <!-- <li class="dropdown">             -->
          <li id="scratch_ac_link" class="dropdown"><a href="javascript:runestoneComponents.popupScratchAC()">
              <i class="glyphicon glyphicon-pencil" style="opacity:0.9;"><span class="visuallyhidden" aria-label="Scratch Activecode" >Scratch Activecode</span></i></a></li>
        <!-- </li> -->

        <li class="divider-vertical"></li>

        
        <!-- help menu dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-question-sign" style="opacity:0.9;"><span class="visuallyhidden" aria-label="Help">Help</span></i>
          </a>
          <ul class="dropdown-menu user-menu">
            <li><a href='http://runestoneinteractive.org/pages/faq.html'>FAQ</a></li>
            <li><a href='https://runestone.academy/ns/books/published/instructorguide/index.html'>Instructors Guide</a></li>
            <li class="divider"></li>
            <li><a href='http://runestoneinteractive.org'>About Runestone</a></li>
            <li><a href='/runestone/default/reportabug?course=py4e-int&page=CaseStudy'>Report A Problem</a></li>
          </ul>
        </li>
        <!-- end help menu dropdown -->

        <li class="divider-vertical"></li>
      
      </ul>

      <ul class="nav navbar-nav">
        <li class="divider-vertical"></li>
        
          
            <script></script>
<li class="dropdown globaltoc-container">
    <a
        href="../index.html"
        class="dropdown-toggle"
        data-toggle="dropdown"
        aria-label="index"
        >This Chapter<b class="caret"></b
    ></a>
    <ul class="dropdown-menu globaltoc">
         
        {% for row in subchapter_list %}
        <li class="toctree-l1">
            <a class="reference internal" href="{{ row['subchap_uri']}}"
                >{{ row['title']}}</a
            >
        </li>
        {% endfor %} 
        
    </ul>
</li>
          
          <li class="divider-vertical"></li>
        
        <!-- 
          
  <li id="relations-prev" title="Previous Chapter - <span class="section-number">20.6. </span>Association vs. Inheritance" data-toggle="tooltip">
    <a href="AssociationVsInheritance.html" >
      <i class='glyphicon glyphicon-backward' style='opacity:0.9;'></i>
    </a>
  </li>
  
  <li id="relations-next" title='Next Chapter - <span class="section-number">20.8. </span>Unit Tests' data-toggle="tooltip" >              
    <a href="UnitTests.html" >
        <i class='glyphicon glyphicon-forward' style='opacity:0.9;'></i>
    </a>
  </li>
  <li class="divider-vertical"></li>

<script>
  opts = {'placement':'bottom',
          'selector': '',
          'delay': { show: 100, hide: 50}
         };

  window.addEventListener('load', (event) => {
    $('#relations-prev').tooltip(opts);
    $('#relations-next').tooltip(opts);
  });
</script>
        -->
        
          <li></li>
        
      </ul>
      </div> <!-- navbar-collapse -->
    </div> <!-- navbar -->
  </div> <!-- container -->


<div class="container" id="continue-reading"></div>

<div class="container" id="main-content" role="main">

<!-- Ad Serving for Runestone Campaign -->

    
        {% if settings.num_banners > 0 and settings.show_rs_banner %}
         <div style="width: 100%;">
            <a href="/runestone/default/donate?banner={{banner_num}}">
            <img class="runestone-banner"
                 src="/runestone/static/images/RunestoneBanner{{banner_num}}.png"
                 alt="Please Support Runestone"
                 style="display: block; width: 728px; margin-left: auto; margin-right: auto; margin-top: 10px;">
            </a>
         </div>
        {% endif %}
    


  
  <section id="case-study-structured-postal-addresses">
<h1><span class="section-number">20.7. </span>Case Study: Structured Postal Addresses<a class="headerlink" href="#case-study-structured-postal-addresses" title="Permalink to this headline">¶</a></h1>
<p>Postal addresses are interesting things. Every country has its own format
for postal addresses, and sometimes one country can have multiple address
formats.</p>
<p>Postal addresses generally consist of a few standard elements: the recipient
name; street address; city or locality; state or province; and a postal code.
However, other elements are often included, such as neighborhood, district,
post office identifier, and so on. For example, the following is</p>
<blockquote>
<div><div class="line-block">
<div class="line">Mr. Abe Jones</div>
<div class="line">Acme Corporation</div>
<div class="line">123 Somewhere Ln</div>
<div class="line">Greenville, SC  29609</div>
<div class="line">USA</div>
</div>
</div></blockquote>
<p>This same address would be written as follows for delivery to the Netherlands
(in the example, the street, city, and state are unchanged, even though they do not exist
in the Netherlands):</p>
<blockquote>
<div><div class="line-block">
<div class="line">Acme Corporation</div>
<div class="line">Mr. Abe Jones</div>
<div class="line">Somewhere Ln 123</div>
<div class="line">29609 SC  Greenville</div>
<div class="line">NETHERLANDS</div>
</div>
</div></blockquote>
<p>Addresses in Ireland are complex, having up to 12 parts (such as building name and number,
primary and secondary thoroughfare, primary and secondary locality, town, county, …)
plus an Eircode, a unique identifier assigned to each of the ~2 million addresses in Ireland.
For example, Abe might live at the following address (English translation
is given in parentheses, and would be omitted):</p>
<blockquote>
<div><div class="line-block">
<div class="line">Abe Jones</div>
<div class="line">Cnoc na Sceiche (The Hill of the Thorn)</div>
<div class="line">Leac an Anfa (The Flagstone of the Storm)</div>
<div class="line">Cathair na Mart (The City of the Beeves)</div>
<div class="line">Co. Mhaigh Eo (The County of the Plain of the Yews)</div>
<div class="line">A65 F4E2</div>
<div class="line">IRELAND</div>
</div>
</div></blockquote>
<p>(One would think that since each address has its own unique Eircode,
it ought to be possible to address mail to Abe Jones, A65 F4E2, IRELAND.
On second thought, perhaps that is not such a great idea. Can you imagine
the practical concerns with such a scheme?)</p>
<section id="storing-postal-addresses">
<h2><span class="section-number">20.7.1. </span>Storing Postal Addresses<a class="headerlink" href="#storing-postal-addresses" title="Permalink to this headline">¶</a></h2>
<p>Suppose we want to write a contact management application. Among other things, the application
stores names and addresses. What would be the best way to design a class that holds the
information for an address? One approach would be to store the parts of the address that
are consistent, such as the recipient name and the country, in instance variables, and
store the rest of the address as a list of address lines:</p>

<div class="runestone explainer ac_section ">
<div data-component="activecode" id=address_class_1 data-question_label="20.7.1.1">
<div id=address_class_1_question class="ac_question col-md-12">

</div>
<textarea data-lang="python" id="address_class_1_editor" 
      data-timelimit=25000  data-codelens="true"   
    data-audio=''      
           data-wasm=/_static
     style="visibility: hidden;">
class Address:
    def __init__(self, recipient, addressLines, country):
        self.country = country
        self.recipient = recipient
        self.addressLines = addressLines


addr = Address('Abe Jones', ['123 Somewhere Ln', 'Greenville, SC  29609'], 'USA')
print(addr)
</textarea>
</div>
</div>
<p>This approach treats an address as a collection of unstructured bits of information. If we want to
look up an address, we can search by full name or country, but if we want to find all
addresses in Greenville, or all addresses in zip code 29609, we can’t do it very easily,
since information such as city and zip code is mashed together in an unstructured
address line along with the state abbreviation.</p>
<p>An approach that stores addresses as structured pieces of information might look like this:</p>

<div class="runestone explainer ac_section ">
<div data-component="activecode" id=structured_addr_1 data-question_label="20.7.1.2">
<div id=structured_addr_1_question class="ac_question col-md-12">

</div>
<textarea data-lang="python" id="structured_addr_1_editor" 
      data-timelimit=25000  data-codelens="true"   
    data-audio=''      
           data-wasm=/_static
     style="visibility: hidden;">
class StructuredAddress:
    def __init__(self, country, recipient, street, city, state, postalCode):
        self.country = country
        self.recipient = recipient
        self.street = street
        self.city = city
        self.state = state
        self.postalCode = postalCode

    def display(self):
        print(self.recipient)
        print(self.street)
        print(self.city + ", " + self.state + "  " + self.postalCode)
        print(self.country)

addr = StructuredAddress('USA', 'Abe Jones', '103 Anywhere Ln',
               'Greenville', 'SC', '29609')
addr.display()
</textarea>
</div>
</div>
<p>Now, if we have a list of StructuredAddress objects and we want to find all of the ones
that hold addresses in Greenville, we can do it much more easily:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">addr</span> <span class="ow">in</span> <span class="n">addrList</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">addr</span><span class="o">.</span><span class="n">city</span> <span class="o">==</span> <span class="s1">&#39;Greenville&#39;</span><span class="p">:</span>
        <span class="n">addr</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="storing-international-addresses">
<h2><span class="section-number">20.7.2. </span>Storing International Addresses<a class="headerlink" href="#storing-international-addresses" title="Permalink to this headline">¶</a></h2>
<p>But now we have another problem. Our StructuredAddress works fine for U.S. addresses,
but not for those of other countries. Suppose we want to handle Irish and Italian
addresses. We might enhance the display() method to handle these with appropriate
logic:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">display</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">recipient</span><span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">country</span> <span class="o">==</span> <span class="s1">&#39;USA&#39;</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">street</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">city</span> <span class="o">+</span> <span class="s2">&quot;, &quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">+</span> <span class="s2">&quot;  &quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">postalCode</span><span class="p">)</span>
    <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">country</span> <span class="o">==</span> <span class="s1">&#39;IRELAND&#39;</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">postalCode</span><span class="p">)</span>
    <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">country</span> <span class="o">==</span> <span class="s1">&#39;ITALY&#39;</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">street</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">postalCode</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">city</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">pass</span>

    <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">country</span><span class="p">)</span>
</pre></div>
</div>
<p>This example works for Italian addresses because they conveniently have the same
elements as U.S. addresses (just displayed in a slightly different order). For Irish
addresses, we ignore the complicated address format and assume that the Irish post
office will get mail to the recipient because of Ireland’s unique Eircode scheme.
But what if we wanted to include the additional elements of Irish addresses? We might
create additional instance variables for those elements in our StructuredAddress class.
However, you can probably see that approach will quickly become unwieldy.</p>
</section>
<section id="inheritance-applied">
<h2><span class="section-number">20.7.3. </span>Inheritance Applied<a class="headerlink" href="#inheritance-applied" title="Permalink to this headline">¶</a></h2>
<p>Let’s apply inheritance to the problem of managing structured postal addresses.
We will define a base class that contains the attributes in common to all
postal addresses: recipient and country.</p>

<div class="runestone explainer ac_section ">
<div data-component="activecode" id=base_postal data-question_label="20.7.3.1">
<div id=base_postal_question class="ac_question col-md-12">

</div>
<textarea data-lang="python" id="base_postal_editor" 
      data-timelimit=25000  data-codelens="true"   
    data-audio=''      
           data-wasm=/_static
     style="visibility: hidden;">
class BasePostalAddress:
    def __init__(self, country, recipient):
        self.country = country
        self.recipient = recipient

    def display(self):
        print(self.recipient)
        print(self.country)

    def validate(self):
        return self.recipient != '' and self.country != ''
</textarea>
</div>
</div>
<p>This class isn’t very useful by itself; relatively few people in the world
could receive mail addressed to them using only their name and country.
But it does establish two methods to perform functionality we want all
addresses to perform: display themselves, and check whether the required
information is present and of an appropriate length.</p>
<p>Next, we build on BasePostalAddress by creating a separate class for each
country that inherits from it:</p>

<div class="runestone explainer ac_section ">
<div data-component="activecode" id=international_postal data-question_label="20.7.3.2">
<div id=international_postal_question class="ac_question col-md-12">

</div>
<textarea data-lang="python" id="international_postal_editor" 
     data-include="base_postal" data-timelimit=25000  data-codelens="true"   
    data-audio=''      
           data-wasm=/_static
     style="visibility: hidden;">
class IrishPostalAddress(BasePostalAddress):
    def __init__(self, recipient, postalCode):
        super().__init__("IRELAND", recipient)
        self.postalCode = postalCode

    def display(self):
        print(self.recipient)
        print(self.postalCode)
        print(self.country)

    def validate(self):
        return super().validate() and len(self.postalCode) == 7

class USPostalAddress(BasePostalAddress):
    def __init__(self, recipient, street, city, state, zipcode):
        super().__init__("USA", recipient)
        self.street = street
        self.city = city
        self.state = state
        self.zip = zipcode

    def display(self):
        print(self.recipient)
        print(self.street)
        print(self.city + ", " + self.state + "  " + self.zip)
        print(self.country)

    def validate(self):
        return (super().validate() and self.city != '' and
            len(self.state) == 2 and
            (len(self.postalCode) == 5 or len(self.postalCode) == 9))
</textarea>
</div>
</div>
</section>
<section id="a-list-of-addresses">
<h2><span class="section-number">20.7.4. </span>A List of Addresses<a class="headerlink" href="#a-list-of-addresses" title="Permalink to this headline">¶</a></h2>
<p>Now, let’s construct a list containing both US and Irish addresses,
and display them using a loop:</p>

<div class="runestone explainer ac_section ">
<div data-component="activecode" id=postal_list_ac data-question_label="20.7.4.1">
<div id=postal_list_ac_question class="ac_question col-md-12">

</div>
<textarea data-lang="python" id="postal_list_ac_editor" 
     data-include="base_postal international_postal" data-timelimit=25000  data-codelens="true"   
    data-audio=''      
           data-wasm=/_static
     style="visibility: hidden;">
addrList = [IrishPostalAddress("Alf Jones", "A26F4G9"),
            USPostalAddress("Abe Jones", "103 Anywhere Ln",
                "Greenville", "SC", "29609"),
            IrishPostalAddress("Gabe Jones", "A65F4E2")]

for addr in addrList:
    addr.display()
</textarea>
</div>
</div>
<p>Normally, if a program iterates over a list that contains different
types of objects, it has to be careful about making assumptions about
the methods and operations that it can invoke on the different objects
in the list, since an attempt to invoke a method or apply an operator
to an object that does not support the method or operator will result
in a runtime error. In this case, we know that all of the objects in the list
inherit from <code class="docutils literal notranslate"><span class="pre">BasePostalAddress</span></code>. It is safe to invoke any methods
defined in <code class="docutils literal notranslate"><span class="pre">BasePostalAddress</span></code>, since all children of
<code class="docutils literal notranslate"><span class="pre">BasePostalAddress</span></code> are guaranteed to contain those methods.
Programs that use inheritance often contain loops like this.</p>
<p>Notice something else. As the loop iterates over the list, each time
the <code class="docutils literal notranslate"><span class="pre">display()</span></code> method is invoked, the computer will execute the one
that is defined for the specific object referenced by <code class="docutils literal notranslate"><span class="pre">addr</span></code>. The first
time through the loop, addr references an <code class="docutils literal notranslate"><span class="pre">IrishPostalAddress</span></code>, so the
<code class="docutils literal notranslate"><span class="pre">display()</span></code> method for Irish addresses is invoked. The second time through
the loop, the <code class="docutils literal notranslate"><span class="pre">display()</span></code> method in <code class="docutils literal notranslate"><span class="pre">USPostalAddress</span></code> is invoked. This
behavior—where the computer always executes the method that is
defined for the object being referenced—is called <em>polymorphism</em>.
Python exhibits this behavior whether or not the objects in question
utilize inheritance, but languages like Java and C++, polymorphism is
available only through inheritance.</p>
</section>
<section id="using-isinstance">
<h2><span class="section-number">20.7.5. </span>Using isinstance<a class="headerlink" href="#using-isinstance" title="Permalink to this headline">¶</a></h2>
<p>Let’s try something else with our list of addresses. Suppose
we wanted to display all addresses with a given city.
We might write some code like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">addr</span> <span class="ow">in</span> <span class="n">addrList</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">addr</span><span class="o">.</span><span class="n">city</span> <span class="o">==</span> <span class="s1">&#39;Greenville&#39;</span><span class="p">:</span>
        <span class="n">addr</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
</pre></div>
</div>
<p>However, we would get into trouble on the first iteration of the
loop. The first address is an Irish address, which does not have a
<code class="docutils literal notranslate"><span class="pre">city</span></code> attribute. Python would raise an error. We want to
perform this test only for US addresses.</p>
<p>In this case, since all addresses have a country attribute,
we could write the loop this way:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">addr</span> <span class="ow">in</span> <span class="n">addrList</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">addr</span><span class="o">.</span><span class="n">country</span> <span class="o">==</span> <span class="s1">&#39;USA&#39;</span> <span class="ow">and</span> <span class="n">addr</span><span class="o">.</span><span class="n">city</span> <span class="o">==</span> <span class="s1">&#39;Greenville&#39;</span><span class="p">:</span>
        <span class="n">addr</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
</pre></div>
</div>
<p>Another way to test the address is to find out if the object
belongs to a specific class. Python provides the <code class="docutils literal notranslate"><span class="pre">isinstance()</span></code>
function for this purpose. <code class="docutils literal notranslate"><span class="pre">isinstance()</span></code> is designed for situations
where you want to access a field or invoke a method on an object,
but you want to do so only if the object provides the needed
functionality. Given an object <em>obj</em> and a class <em>cls</em>,
<code class="docutils literal notranslate"><span class="pre">isinstance(obj,</span> <span class="pre">cls)</span></code> returns True if <em>obj</em> is an instance of <em>cls</em>
(or a subclass of <em>cls</em>), and False if it is not. Here is how we might
use it in our loop:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">addr</span> <span class="ow">in</span> <span class="n">addrList</span><span class="p">:</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">addr</span><span class="p">,</span> <span class="n">USPostalAddress</span><span class="p">)</span> <span class="ow">and</span> <span class="n">addr</span><span class="o">.</span><span class="n">city</span> <span class="o">==</span> <span class="s1">&#39;Greenville&#39;</span><span class="p">:</span>
        <span class="n">addr</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
</pre></div>
</div>
<p>In this version of the code, the city attribute will be tested only
if <code class="docutils literal notranslate"><span class="pre">addr</span></code> references an instance of <code class="docutils literal notranslate"><span class="pre">USPostalAddress</span></code>, or a child of
<code class="docutils literal notranslate"><span class="pre">USPostalAddress</span></code> (which would also have a city attribute).</p>
<p>Now that you’ve learned about <code class="docutils literal notranslate"><span class="pre">isinstance()</span></code>, you should know that, like
inheritance itself, <code class="docutils literal notranslate"><span class="pre">isinstance()</span></code> should be used sparingly. Code that
invokes <code class="docutils literal notranslate"><span class="pre">isinstance()</span></code> is often performing work on an object that the
object should be designed to do itself, and is not utilizing inheritance
and polymorphism to its full potential.</p>
<p>To make this loop better utilize inheritance and polymorphism, we need
a way to test each address to see if it is in a given city. Let’s
add a method to BasePostalAddress for this purpose. It will
return a boolean indicating whether the address is in a certain city.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">BasePostalAddress</span><span class="p">:</span>

    <span class="o">...</span>

    <span class="k">def</span> <span class="nf">isInCity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">city</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
</pre></div>
</div>
<p>BasePostalAddresses do not have a city attribute, so they just return
False. USPostalAddresses do have a city, so we’ll override this method
for that class:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">USPostalAddress</span><span class="p">:</span>

    <span class="o">...</span>

    <span class="k">def</span> <span class="nf">isInCity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">city</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">city</span> <span class="o">==</span> <span class="n">city</span>
</pre></div>
</div>
<p>Now, we rewrite our loop to use <code class="docutils literal notranslate"><span class="pre">isInCity()</span></code> to perform the test:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">addr</span> <span class="ow">in</span> <span class="n">addrList</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">addr</span><span class="o">.</span><span class="n">isInCity</span><span class="p">(</span><span class="s1">&#39;Greenville&#39;</span><span class="p">):</span>
        <span class="n">addr</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
</pre></div>
</div>
<p>Notice how we’ve eliminated the <code class="docutils literal notranslate"><span class="pre">isinstance()</span></code> test. Also, notice
how this test works for <code class="docutils literal notranslate"><span class="pre">IrishPostalAddress</span></code> objects, even though we
didn’t define <code class="docutils literal notranslate"><span class="pre">isInCity()</span></code> for <code class="docutils literal notranslate"><span class="pre">IrishPostalAddress</span></code>, since
<code class="docutils literal notranslate"><span class="pre">IrishPostalAddress</span></code> inherits its version from <code class="docutils literal notranslate"><span class="pre">BasePostalAddress</span></code>.</p>
</section>
</section>


  <div id="scprogresscontainer">
    You have attempted <span id="scprogresstotal"></span> of <span id="scprogressposs"></span> activities on this page <div id="subchapterprogress" aria-label="Page progress"></div>
  </div>

  <ul role="navigation" class="nextprev-list nextprev-list" aria-label="Change page">
<li id="relations-prev" class="navLink" title='Previous Section - 20.6. Association vs. Inheritance' data-toggle="tooltip">
  <a href="AssociationVsInheritance.html" aria-label="Previous - 20.6. Association vs. Inheritance">
    <i class='prevNav glyphicon glyphicon-chevron-left'  style="top:50%; transform:translateY(-50%)translateX(-50%); left: 50%; color:black;"></i>
  </a>
</li>

  <li id="relations-next" class="navLink" title='Next Section - 20.8. Unit Tests' data-toggle="tooltip" >
    <a href="UnitTests.html" aria-label="Next - 20.8. Unit Tests">
      <i id="relationsNextIcon" class='nextNav glyphicon glyphicon-chevron-right' style="top:50%; transform:translateY(-50%)translateX(-50%); left: 50%; color:black; "></i>
    </a>
  </li>
</ul>

<script>
window.addEventListener('load', (event) => {
  $('#relations-prev').tooltip({'placement': 'right', 'delay': { show: 100, hide: 50}});
  $('#relations-next').tooltip({'placement': 'left', 'delay': { show: 100, hide: 50}});
});
</script>

</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      
      
      <span id='numuserspan'></span><span class='loggedinuser'></span>
      
      
      | <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2020 - Based on Python for Everybody.
      Created using <a href="http://runestoneinteractive.org/">Runestone</a> .
    </p>
  </div>
</footer>



  
    {% if settings.google_ga %}
      <script>
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', '{{ settings.google_ga }}']);
        _gaq.push(['_trackPageview']);

        (function() {
          var ga = document.createElement('script'); ga.async = true;
          ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
          var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
      </script>
    {% endif %}
  

  
    <script type="application/json" class="js-hypothesis-config">
    {
      "showHighlights": false
    }
    </script>

    <script async src="https://hypothes.is/embed.js"></script>
    <!--provide space to prevent hypothes.is sidebar from obscuring content-->
    <style>@media screen and (max-width:767px) { body { padding-right: 21px; }}</style>

  


<script>
  window.addEventListener('load', (event) => {
    runestoneComponents.getSwitch();
  });
</script>


  </body>
</html>